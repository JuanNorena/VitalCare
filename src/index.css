@import "tailwindcss";

/* =========================================================
   THEME TOKENS (Light defaults + Dark overrides)
   ========================================================= */
:root {
  --vc-font-scale: 1; /* escalado dinámico */
  --vc-bg: #ffffff;
  --vc-text: #1f2937; /* gray-800 */
  --vc-bg-secondary: #f8fafc;
  --vc-card-bg: #ffffff;
  --vc-input-bg: #ffffff;
  --vc-border: #e2e8f0; /* gray-200 */
  --vc-hover: #f1f5f9; /* gray-100 */
  --vc-button-primary: #2563eb; /* blue-600 */
  --vc-button-secondary: #6b7280; /* gray-500 */
  --vc-accent: #1d4ed8; /* blue-700 */
  --vc-accent-contrast: #ffffff;
  --vc-focus-ring: #3b82f6; /* blue-500 */
  --vc-error-bg: #fef2f2; /* red-50 */
  --vc-error-text: #dc2626; /* red-600 */
}

:root.dark {
  --vc-bg: #0f172a; /* slate-900 */
  --vc-text: #f8fafc; /* gray-50 */
  --vc-bg-secondary: #1e293b; /* slate-800 */
  --vc-card-bg: #1e293b;
  --vc-input-bg: #334155; /* slate-700 */
  --vc-border: #334155; /* slate-700 */
  --vc-hover: #334155; /* slate-700 */
  --vc-button-primary: #3b82f6; /* blue-500 */
  --vc-button-secondary: #64748b; /* slate-500 */
  --vc-accent: #1e40af; /* blue-800 */
  --vc-accent-contrast: #f8fafc;
  --vc-focus-ring: #60a5fa; /* blue-400 */
  --vc-error-bg: #7f1d1d; /* red-900 */
  --vc-error-text: #fca5a5; /* red-300 */
}

* { box-sizing: border-box; }

html { font-size: calc(16px * var(--vc-font-scale)); }

body {
  margin: 0;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
    sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  background: var(--vc-bg);
  color: var(--vc-text);
  transition: background-color .3s ease, color .3s ease, border-color .3s ease;
  color-scheme: light;
}
body.dark { color-scheme: dark; }

/* Scrollbar */
::-webkit-scrollbar { width:8px; }
::-webkit-scrollbar-track { background: var(--vc-bg-secondary); }
::-webkit-scrollbar-thumb { background:#cbd5e1; border-radius:4px; }
::-webkit-scrollbar-thumb:hover { background:#94a3b8; }
:root.dark ::-webkit-scrollbar-track { background:#1e293b; }
:root.dark ::-webkit-scrollbar-thumb { background:#475569; }
:root.dark ::-webkit-scrollbar-thumb:hover { background:#64748b; }

/* Animación spin */
.animate-spin { animation: spin 1s linear infinite; }
@keyframes spin { from { transform:rotate(0deg);} to { transform:rotate(360deg);} }

/* Focus utilities */
.focus-visible:focus-visible { outline:2px solid var(--vc-focus-ring); outline-offset:2px; }

/* Form base */
input, textarea, select {
  background: var(--vc-input-bg);
  color: var(--vc-text);
  border:1px solid var(--vc-border);
  transition: background-color .2s ease, color .2s ease, border-color .2s ease, box-shadow .2s ease;
}
input:focus, textarea:focus, select:focus {
  outline:none; border-color:transparent; box-shadow:0 0 0 2px var(--vc-focus-ring);
}

/* Date inputs */
input[type="date"], input[type="datetime-local"], input[type="time"] { color-scheme: light; }
:root.dark input[type="date"], :root.dark input[type="datetime-local"], :root.dark input[type="time"] { color-scheme: dark; }

input[type="date"]::-webkit-calendar-picker-indicator,
input[type="datetime-local"]::-webkit-calendar-picker-indicator {
  background: transparent;
  cursor: pointer;
  padding: 4px;
  border-radius: 4px;
  filter: grayscale(30%);
}
:root.dark input[type="date"]::-webkit-calendar-picker-indicator,
:root.dark input[type="datetime-local"]::-webkit-calendar-picker-indicator {
  filter: invert(0.8);
}

/* Touch targets */
@media (max-width:640px){ button, input, select, textarea { min-height:44px; } }

/* Transition helper */
.transition-theme { transition: background-color .3s, color .3s, border-color .3s; }

/* Responsive text utilities (con escalado raíz) */
.text-responsive-sm { font-size:0.875rem; }
@media (min-width:640px){ .text-responsive-sm { font-size:1rem; } }
.text-responsive-base { font-size:1rem; }
@media (min-width:640px){ .text-responsive-base { font-size:1.125rem; } }
.text-responsive-lg { font-size:1.125rem; }
@media (min-width:640px){ .text-responsive-lg { font-size:1.25rem; } }
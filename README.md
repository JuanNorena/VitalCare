# VitalCare Frontend üè•

> **Sistema de Gesti√≥n de Citas M√©dicas** - Una aplicaci√≥n web moderna y accesible para la gesti√≥n integral de citas m√©dicas, construida con React, TypeScript y Tailwind CSS.

[![React](https://img.shields.io/badge/React-19.1.1-blue.svg)](https://reactjs.org/)
[![TypeScript](https://img.shields.io/badge/TypeScript-5.9.2-blue.svg)](https://www.typescriptlang.org/)
[![Vite](https://img.shields.io/badge/Vite-7.1.4-646CFF.svg)](https://vitejs.dev/)
[![Tailwind CSS](https://img.shields.io/badge/Tailwind_CSS-4.1.13-38B2AC.svg)](https://tailwindcss.com/)
[![React Query](https://img.shields.io/badge/React_Query-5.87.1-FF4154.svg)](https://tanstack.com/query/latest)

## üìã Tabla de Contenidos

- [üåü Caracter√≠sticas](#-caracter√≠sticas)
- [üèóÔ∏è Arquitectura](#Ô∏è-arquitectura)
- [üõ†Ô∏è Tecnolog√≠as](#Ô∏è-tecnolog√≠as)
- [üìÅ Estructura del Proyecto](#-estructura-del-proyecto)
- [üöÄ Instalaci√≥n y Configuraci√≥n](#-instalaci√≥n-y-configuraci√≥n)
- [üèÉ‚Äç‚ôÇÔ∏è Ejecuci√≥n del Proyecto](#Ô∏è-ejecuci√≥n-del-proyecto)
- [üì± Funcionalidades](#-funcionalidades)
- [üé® Sistema de Dise√±o](#-sistema-de-dise√±o)
- [üîß Scripts Disponibles](#-scripts-disponibles)
- [üåê Variables de Entorno](#-variables-de-entorno)
- [üì¶ Build y Despliegue](#-build-y-despliegue)
- [üß™ Testing](#-testing)
- [ü§ù Contribuci√≥n](#-contribuci√≥n)
- [üìÑ Licencia](#-licencia)
- [üë• Autores](#-autores)
- [üôè Agradecimientos](#-agradecimientos)

## üåü Caracter√≠sticas

### ‚ú® Funcionalidades Principales

- **üë§ Gesti√≥n de Usuarios**: Sistema completo de autenticaci√≥n y autorizaci√≥n
- **üìÖ Gesti√≥n de Citas**: Creaci√≥n, modificaci√≥n y cancelaci√≥n de citas m√©dicas
- **üè• M√∫ltiples Roles**: Pacientes, Doctores y Personal Administrativo
- **üì± Dise√±o Responsive**: Optimizado para desktop, tablet y m√≥vil
- **‚ôø Accesibilidad**: Cumple con est√°ndares WCAG 2.1
- **üåô Modo Oscuro**: Soporte completo para tema claro y oscuro
- **üîî Notificaciones**: Sistema de toast para feedback en tiempo real
- **üîÑ Estado Global**: Gesti√≥n eficiente del estado con React Query
- **üöÄ Performance**: Optimizado con Vite y lazy loading

### üéØ Caracter√≠sticas T√©cnicas

- **TypeScript**: Tipado fuerte para mayor robustez
- **Componentes Reutilizables**: Biblioteca de componentes UI consistente
- **Hooks Personalizados**: L√≥gica reutilizable y testable
- **Validaci√≥n en Tiempo Real**: Feedback inmediato en formularios
- **Manejo de Errores**: Sistema robusto de manejo de errores
- **SEO Friendly**: Optimizado para motores de b√∫squeda
- **PWA Ready**: Preparado para Progressive Web App

## üèóÔ∏è Arquitectura

### üìä Arquitectura General

```
VitalCare Frontend/
‚îú‚îÄ‚îÄ üìÅ public/              # Archivos est√°ticos
‚îÇ   ‚îî‚îÄ‚îÄ vite.svg           # Logo de Vite
‚îú‚îÄ‚îÄ üìÅ src/
‚îÇ   ‚îú‚îÄ‚îÄ ÔøΩ main.tsx        # Punto de entrada (React Query + Router)
‚îÇ   ‚îú‚îÄ‚îÄ üìÑ App.tsx         # Componente ra√≠z con contextos
‚îÇ   ‚îú‚îÄ‚îÄ üìÑ routes.tsx      # Configuraci√≥n de rutas centralizadas
‚îÇ   ‚îú‚îÄ‚îÄ üìÑ index.css       # Estilos globales + Tailwind
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ ÔøΩüìÅ components/     # Componentes reutilizables
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ ui/        # Componentes base (Button, Input, Card)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ layout/    # Layouts (MainLayout, Sidebar)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ appointments/ # Componentes de citas
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ clinical/  # Componentes cl√≠nicos (doctores)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ accessibility/ # Accesibilidad
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ navigation/    # Navegaci√≥n
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÅ legal/         # Componentes legales
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ pages/          # P√°ginas principales
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ auth/      # Autenticaci√≥n (Login, Register, etc.)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ appointments/ # Gesti√≥n de citas
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ dashboard/    # Dashboard principal
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÅ doctor/       # M√≥dulo exclusivo doctores
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ hooks/          # Hooks personalizados
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ useAuth.ts        # Hook de autenticaci√≥n
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ useAppointments.ts # Hook de citas
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ useDoctorProfile.ts # Hook perfil doctor
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ services/       # Servicios de API (Axios)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ api.ts            # Cliente HTTP base
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth.ts           # Servicios de auth
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ appointments.ts   # Servicios de citas
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ consultations.ts  # Servicios de consultas
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ doctors.ts        # Servicios de doctores
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ cities.ts         # Servicios de ciudades
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ passwordReset.ts  # Recuperaci√≥n de contrase√±a
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ userProfile.ts    # Perfil de usuario
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ contexts/       # Contextos de React
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AccessibilityContext.tsx # Estado de accesibilidad
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ToastContext.tsx        # Sistema de notificaciones
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ types/          # Definiciones TypeScript
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ api.ts            # Tipos de API y DTOs
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ clinical.ts       # Tipos de datos cl√≠nicos
‚îÇ   ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ üìÅ utils/          # Utilidades
‚îÇ       ‚îî‚îÄ‚îÄ cn.ts             # Utilidad para clases CSS
‚îÇ
‚îú‚îÄ‚îÄ ÔøΩ tests/              # Tests unitarios
‚îÇ   ‚îú‚îÄ‚îÄ setup.ts           # Configuraci√≥n global de tests
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ helpers/        # Utilidades de testing
‚îÇ   ‚îú‚îÄ‚îÄ ÔøΩ mocks/          # Datos mock
‚îÇ   ‚îî‚îÄ‚îÄ üìÅ unit/           # Tests unitarios organizados
‚îÇ
‚îú‚îÄ‚îÄ üìÑ package.json        # Dependencias y scripts
‚îú‚îÄ‚îÄ üìÑ tsconfig.json       # Configuraci√≥n TypeScript
‚îú‚îÄ‚îÄ üìÑ vite.config.ts      # Configuraci√≥n Vite
‚îú‚îÄ‚îÄ üìÑ vitest.config.ts    # Configuraci√≥n Vitest
‚îú‚îÄ‚îÄ üìÑ tailwind.config.js  # Configuraci√≥n Tailwind
‚îú‚îÄ‚îÄ üìÑ .env.development    # Variables de entorno (dev)
‚îú‚îÄ‚îÄ üìÑ .env.production     # Variables de entorno (prod)
‚îî‚îÄ‚îÄ üìÑ .eslintrc.json      # Configuraci√≥n ESLint
```

---

### üîÑ Flujo de Datos

```mermaid
graph TB
    A[Usuario] -->|Interacci√≥n| B[Componentes UI]
    B -->|Eventos| C[Hooks Personalizados]
    C -->|Queries/Mutations| D[React Query]
    D -->|HTTP Requests| E[Servicios API]
    E -->|Axios| F[Backend REST API]
    
    F -->|Response| E
    E -->|Datos| D
    D -->|Cache| C
    C -->|Estado| B
    B -->|Renderiza| A

    G[Contextos] -->|Estado Global| B
    H[LocalStorage] -->|Persistencia| C
    I[ToastContext] -->|Notificaciones| B

    style A fill:#3b82f6,stroke:#1e40af,color:#fff
    style F fill:#ef4444,stroke:#b91c1c,color:#fff
    style D fill:#10b981,stroke:#047857,color:#fff
```

**Explicaci√≥n del Flujo:**

1. **Usuario ‚Üí Componentes UI**: Interacci√≥n (clicks, inputs)
2. **Componentes ‚Üí Hooks**: L√≥gica de negocio separada
3. **Hooks ‚Üí React Query**: Gesti√≥n de estado del servidor
4. **React Query ‚Üí Servicios**: Peticiones HTTP estructuradas
5. **Servicios ‚Üí Backend**: Comunicaci√≥n REST con Axios
6. **Backend ‚Üí Usuario**: Respuesta completa con actualizaci√≥n UI

---

### üõ£Ô∏è Sistema de Rutas

#### **Arquitectura de Routing**

El proyecto usa **React Router v7** con un sistema de rutas centralizado:

```typescript
// src/routes.tsx - Estructura principal
export function AppRoutes() {
  return (
    <Routes>
      {/* Rutas P√∫blicas */}
      <Route path="/login" element={<PublicRoute><LoginPage /></PublicRoute>} />
      <Route path="/register" element={<PublicRoute><RegisterPage /></PublicRoute>} />
      
      {/* Rutas Protegidas */}
      <Route path="/dashboard" element={
        <ProtectedRoute>
          <MainLayout><DashboardPage /></MainLayout>
        </ProtectedRoute>
      } />
      
      {/* ... m√°s rutas */}
    </Routes>
  );
}
```

#### **Mapa Completo de Rutas**

| Ruta | Tipo | Componente | Requiere Auth | Rol |
|------|------|------------|---------------|-----|
| `/` | Redirect | ‚Üí `/login` | ‚ùå No | Todos |
| `/login` | P√∫blica | `LoginPage` | ‚ùå No | Sin auth |
| `/register` | P√∫blica | `RegisterPage` | ‚ùå No | Sin auth |
| `/auth/forgot-password` | P√∫blica | `ForgotPasswordPage` | ‚ùå No | Sin auth |
| `/auth/verify-reset-code` | P√∫blica | `VerifyResetCodePage` | ‚ùå No | Sin auth |
| `/auth/reset-password` | P√∫blica | `ResetPasswordPage` | ‚ùå No | Sin auth |
| `/dashboard` | Protegida | `DashboardPage` | ‚úÖ S√≠ | Todos |
| `/profile` | Protegida | `ProfilePage` | ‚úÖ S√≠ | Todos |
| `/appointments` | Protegida | `AppointmentsPage` | ‚úÖ S√≠ | Paciente/Doctor |
| `/create-appointment` | Protegida | `CreateAppointmentPage` | ‚úÖ S√≠ | Paciente |
| `/doctor/appointments` | Protegida | `DoctorAppointmentsPage` | ‚úÖ S√≠ | Doctor |
| `/doctor/consultation/:id` | Protegida | `ConsultationPage` | ‚úÖ S√≠ | Doctor |
| `*` (404) | Redirect | ‚Üí `/login` | ‚ùå No | Todos |

#### **Guardias de Ruta**

**ProtectedRoute**: Protege rutas que requieren autenticaci√≥n

```typescript
function ProtectedRoute({ children }: { children: React.ReactNode }) {
  const { isAuthenticated, isLoading } = useAuth();

  // Muestra loading mientras verifica autenticaci√≥n
  if (isLoading) {
    return <LoadingSpinner />;
  }

  // Redirige a login si no autenticado
  return isAuthenticated ? <>{children}</> : <Navigate to="/login" replace />;
}
```

**PublicRoute**: Protege rutas solo para usuarios NO autenticados

```typescript
function PublicRoute({ children }: { children: React.ReactNode }) {
  const { isAuthenticated, isLoading } = useAuth();

  if (isLoading) {
    return <LoadingSpinner />;
  }

  // Si ya autenticado, redirige a dashboard
  return isAuthenticated ? <Navigate to="/dashboard" replace /> : <>{children}</>;
}
```

#### **Navegaci√≥n Program√°tica**

```typescript
import { useNavigate } from 'react-router-dom';

function MyComponent() {
  const navigate = useNavigate();

  const handleSuccess = () => {
    // Navegar con reemplazo de historial
    navigate('/dashboard', { replace: true });
    
    // Navegar con estado
    navigate('/appointments', { 
      state: { appointmentId: '123' } 
    });
    
    // Navegar atr√°s
    navigate(-1);
  };
}
```

---

### üß© Arquitectura de Componentes

#### **Jerarqu√≠a de Componentes**

```
App (Ra√≠z)
‚îú‚îÄ‚îÄ ToastProvider (Contexto de notificaciones)
‚îú‚îÄ‚îÄ AccessibilityProvider (Contexto de accesibilidad)
‚îî‚îÄ‚îÄ Router
    ‚îî‚îÄ‚îÄ AppRoutes
        ‚îú‚îÄ‚îÄ PublicRoute (Rutas p√∫blicas)
        ‚îÇ   ‚îú‚îÄ‚îÄ LoginPage
        ‚îÇ   ‚îú‚îÄ‚îÄ RegisterPage
        ‚îÇ   ‚îî‚îÄ‚îÄ ForgotPasswordPage
        ‚îÇ
        ‚îî‚îÄ‚îÄ ProtectedRoute (Rutas protegidas)
            ‚îî‚îÄ‚îÄ MainLayout (Sidebar + Contenido)
                ‚îú‚îÄ‚îÄ Sidebar (Navegaci√≥n)
                ‚îú‚îÄ‚îÄ AccessibilityMenu (Opciones)
                ‚îî‚îÄ‚îÄ Page Content
                    ‚îú‚îÄ‚îÄ DashboardPage
                    ‚îú‚îÄ‚îÄ AppointmentsPage
                    ‚îú‚îÄ‚îÄ CreateAppointmentPage
                    ‚îî‚îÄ‚îÄ ProfilePage
```

#### **Composici√≥n de Componentes**

**Ejemplo: Card Component (Compound Component Pattern)**

```typescript
// Uso composici√≥n para m√°xima flexibilidad
<Card>
  <CardHeader>
    <CardTitle>Pr√≥xima Cita</CardTitle>
    <CardDescription>Dr. Juan P√©rez - Medicina General</CardDescription>
  </CardHeader>
  <CardContent>
    <p>Fecha: 25/10/2025</p>
    <p>Hora: 10:00 AM</p>
  </CardContent>
  <CardFooter>
    <Button variant="outline">Cancelar</Button>
    <Button>Ver detalles</Button>
  </CardFooter>
</Card>
```

#### **Patr√≥n de Hooks Personalizados**

```typescript
// Hook que encapsula l√≥gica compleja
export function useAppointments() {
  const queryClient = useQueryClient();

  // Query para obtener citas
  const { data: appointments, isLoading } = useQuery({
    queryKey: ['appointments'],
    queryFn: appointmentsService.getAll,
  });

  // Mutation para crear cita
  const createMutation = useMutation({
    mutationFn: appointmentsService.create,
    onSuccess: () => {
      queryClient.invalidateQueries({ queryKey: ['appointments'] });
      showToast({ type: 'success', message: 'Cita creada' });
    },
  });

  return {
    appointments,
    isLoading,
    createAppointment: createMutation.mutate,
  };
}
```

---

### üîå Integraci√≥n con Backend

#### **Cliente HTTP Base**

```typescript
// src/services/api.ts
import axios from 'axios';

const api = axios.create({
  baseURL: import.meta.env.VITE_API_BASE_URL,
  headers: {
    'Content-Type': 'application/json',
  },
});

// Interceptor para agregar token JWT
api.interceptors.request.use((config) => {
  const token = localStorage.getItem('accessToken');
  if (token) {
    config.headers.Authorization = `Bearer ${token}`;
  }
  return config;
});

// Interceptor para manejar errores
api.interceptors.response.use(
  (response) => response,
  async (error) => {
    if (error.response?.status === 401) {
      // Token expirado, intentar refresh
      await refreshToken();
    }
    return Promise.reject(error);
  }
);
```

#### **Estructura de Servicios**

```typescript
// src/services/appointments.ts
export const appointmentsService = {
  // GET /api/appointments
  getAll: async (): Promise<Appointment[]> => {
    const { data } = await api.get('/appointments');
    return data;
  },

  // POST /api/appointments
  create: async (appointment: CreateAppointmentDto): Promise<Appointment> => {
    const { data } = await api.post('/appointments', appointment);
    return data;
  },

  // PUT /api/appointments/:id
  update: async (id: string, appointment: UpdateAppointmentDto): Promise<Appointment> => {
    const { data } = await api.put(`/appointments/${id}`, appointment);
    return data;
  },

  // DELETE /api/appointments/:id
  cancel: async (id: string): Promise<void> => {
    await api.delete(`/appointments/${id}`);
  },
};
```

#### **Endpoints del Backend**

| M√©todo | Endpoint | Descripci√≥n | Requiere Auth |
|--------|----------|-------------|---------------|
| `POST` | `/api/auth/login` | Inicio de sesi√≥n | ‚ùå |
| `POST` | `/api/auth/register` | Registro de usuario | ‚ùå |
| `POST` | `/api/auth/refresh` | Renovar token | ‚úÖ |
| `POST` | `/api/auth/logout` | Cerrar sesi√≥n | ‚úÖ |
| `GET` | `/api/appointments` | Obtener citas | ‚úÖ |
| `POST` | `/api/appointments` | Crear cita | ‚úÖ |
| `PUT` | `/api/appointments/:id` | Actualizar cita | ‚úÖ |
| `DELETE` | `/api/appointments/:id` | Cancelar cita | ‚úÖ |
| `GET` | `/api/doctors` | Listar doctores | ‚úÖ |
| `GET` | `/api/doctors/:id` | Obtener doctor | ‚úÖ |
| `POST` | `/api/consultations` | Crear consulta | ‚úÖ (Doctor) |
| `GET` | `/api/consultations/:id` | Obtener consulta | ‚úÖ |
| `GET` | `/api/cities` | Listar ciudades | ‚ùå |
| `POST` | `/api/password-reset/request` | Solicitar reset | ‚ùå |
| `POST` | `/api/password-reset/verify` | Verificar c√≥digo | ‚ùå |
| `POST` | `/api/password-reset/reset` | Cambiar contrase√±a | ‚ùå |

---

### üé® Sistema de Dise√±o y Componentes UI

#### **Componentes Base (Design System)**

| Componente | Props Principales | Variantes | Uso |
|------------|-------------------|-----------|-----|
| `Button` | `variant`, `size`, `disabled` | default, destructive, outline, secondary, ghost, link | Acciones y navegaci√≥n |
| `Input` | `type`, `placeholder`, `error` | text, email, password, number, date | Entrada de datos |
| `Card` | `className` | - | Contenedores de informaci√≥n |
| `DatePicker` | `value`, `onChange`, `minDate` | - | Selecci√≥n de fechas |
| `Toast` | `type`, `title`, `message` | success, error, warning, info | Notificaciones |

#### **Sistema de Variables CSS**

```css
/* src/index.css */
:root {
  /* Colores principales */
  --vc-primary: #3b82f6;
  --vc-primary-hover: #2563eb;
  --vc-secondary: #64748b;
  --vc-success: #10b981;
  --vc-warning: #f59e0b;
  --vc-error: #ef4444;

  /* Backgrounds */
  --vc-bg: #ffffff;
  --vc-bg-secondary: #f8fafc;
  --vc-card-bg: #ffffff;

  /* Texto */
  --vc-text: #1f2937;
  --vc-text-secondary: #6b7280;
  --vc-text-disabled: #9ca3af;

  /* Bordes */
  --vc-border: #e5e7eb;
  --vc-border-hover: #d1d5db;

  /* Sombras */
  --vc-shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
  --vc-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1);
  --vc-shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1);
}

/* Tema oscuro */
[data-theme="dark"] {
  --vc-bg: #0f172a;
  --vc-bg-secondary: #1e293b;
  --vc-card-bg: #1e293b;
  --vc-text: #f1f5f9;
  --vc-text-secondary: #cbd5e1;
  --vc-border: #334155;
}
```

## üõ†Ô∏è Tecnolog√≠as

### Core Framework
- **[React 19.1.1](https://reactjs.org/)** - Framework principal
- **[TypeScript 5.9.2](https://www.typescriptlang.org/)** - Tipado fuerte
- **[Vite 7.1.4](https://vitejs.dev/)** - Build tool y dev server

### UI & Styling
- **[Tailwind CSS 4.1.13](https://tailwindcss.com/)** - Framework CSS utilitario
- **[Lucide React](https://lucide.dev/)** - Iconos SVG
- **[clsx](https://github.com/lukeed/clsx)** - Utilidad para clases condicionales
- **[tailwind-merge](https://github.com/dcastil/tailwind-merge)** - Merge de clases Tailwind

### State Management
- **[React Query 5.87.1](https://tanstack.com/query/latest)** - Gesti√≥n de estado del servidor
- **[React Router DOM 7.8.2](https://reactrouter.com/)** - Routing y navegaci√≥n

### Development Tools
- **[@vitejs/plugin-react](https://github.com/vitejs/vite-plugin-react)** - Plugin React para Vite
- **[@tailwindcss/vite](https://tailwindcss.com/docs/vite-plugin)** - Plugin Tailwind para Vite
- **[ESLint](https://eslint.org/)** - Linting y calidad de c√≥digo

## üìÅ Estructura del Proyecto

### üìÇ `src/components/`
```
components/
‚îú‚îÄ‚îÄ üìÅ ui/                          # Componentes base reutilizables
‚îÇ   ‚îú‚îÄ‚îÄ Button.tsx                 # Bot√≥n configurable con variantes
‚îÇ   ‚îú‚îÄ‚îÄ Card.tsx                   # Sistema de tarjetas con composici√≥n
‚îÇ   ‚îú‚îÄ‚îÄ Input.tsx                  # Campo de entrada con validaci√≥n
‚îÇ   ‚îú‚îÄ‚îÄ DatePicker.tsx             # Selector de fechas personalizado
‚îÇ   ‚îú‚îÄ‚îÄ Toast.tsx                  # Notificaci√≥n individual
‚îÇ   ‚îî‚îÄ‚îÄ ToastContainer.tsx         # Contenedor de notificaciones
‚îú‚îÄ‚îÄ üìÅ layout/                     # Layouts y estructura
‚îÇ   ‚îú‚îÄ‚îÄ MainLayout.tsx             # Layout principal con sidebar
‚îÇ   ‚îî‚îÄ‚îÄ Sidebar.tsx                # Barra lateral de navegaci√≥n
‚îú‚îÄ‚îÄ üìÅ auth/                       # Componentes de autenticaci√≥n
‚îÇ   ‚îî‚îÄ‚îÄ [p√°ginas de auth]          # Login, registro, recuperaci√≥n
‚îú‚îÄ‚îÄ üìÅ appointments/               # Componentes de citas
‚îÇ   ‚îî‚îÄ‚îÄ CancelAppointmentModal.tsx # Modal para cancelar citas
‚îú‚îÄ‚îÄ üìÅ clinical/                   # Componentes cl√≠nicos (doctores)
‚îÇ   ‚îú‚îÄ‚îÄ DiagnosisForm.tsx          # Formulario de diagn√≥stico
‚îÇ   ‚îú‚îÄ‚îÄ SymptomsForm.tsx           # Formulario de s√≠ntomas
‚îÇ   ‚îú‚îÄ‚îÄ TreatmentForm.tsx          # Formulario de tratamiento
‚îÇ   ‚îî‚îÄ‚îÄ VitalSignsForm.tsx         # Formulario de signos vitales
‚îú‚îÄ‚îÄ üìÅ accessibility/              # Accesibilidad
‚îÇ   ‚îî‚îÄ‚îÄ AccessibilityMenu.tsx      # Men√∫ de opciones de accesibilidad
‚îú‚îÄ‚îÄ üìÅ legal/                      # Componentes legales
‚îÇ   ‚îî‚îÄ‚îÄ TermsAndConditionsModal.tsx # Modal de t√©rminos y condiciones
‚îî‚îÄ‚îÄ üìÅ navigation/                 # Navegaci√≥n
    ‚îî‚îÄ‚îÄ Sidebar.tsx                # Barra lateral con roles
```

### üìÇ `src/pages/`
```
pages/
‚îú‚îÄ‚îÄ üìÅ auth/                       # P√°ginas de autenticaci√≥n
‚îÇ   ‚îú‚îÄ‚îÄ LoginPage.tsx              # Inicio de sesi√≥n
‚îÇ   ‚îú‚îÄ‚îÄ RegisterPage.tsx           # Registro de usuarios
‚îÇ   ‚îú‚îÄ‚îÄ ProfilePage.tsx            # Perfil de usuario
‚îÇ   ‚îú‚îÄ‚îÄ ForgotPasswordPage.tsx     # Recuperaci√≥n de contrase√±a
‚îÇ   ‚îú‚îÄ‚îÄ VerifyResetCodePage.tsx    # Verificaci√≥n de c√≥digo
‚îÇ   ‚îî‚îÄ‚îÄ ResetPasswordPage.tsx      # Restablecer contrase√±a
‚îú‚îÄ‚îÄ üìÅ appointments/               # P√°ginas de citas m√©dicas
‚îÇ   ‚îú‚îÄ‚îÄ AppointmentsPage.tsx       # Lista de citas
‚îÇ   ‚îî‚îÄ‚îÄ CreateAppointmentPage.tsx  # Crear nueva cita
‚îú‚îÄ‚îÄ üìÅ dashboard/                  # Dashboard principal
‚îÇ   ‚îî‚îÄ‚îÄ DashboardPage.tsx          # P√°gina principal del dashboard
‚îî‚îÄ‚îÄ üìÅ doctor/                     # M√≥dulo exclusivo para doctores
    ‚îú‚îÄ‚îÄ DoctorAppointmentsPage.tsx # Gesti√≥n de citas del doctor
    ‚îî‚îÄ‚îÄ ConsultationPage.tsx       # P√°gina de consulta m√©dica
```

### üìÇ `src/hooks/`
```
hooks/
‚îú‚îÄ‚îÄ useAuth.ts                     # Hook de autenticaci√≥n y sesi√≥n
‚îú‚îÄ‚îÄ useAppointments.ts             # Hook para gesti√≥n de citas
‚îî‚îÄ‚îÄ useDoctorProfile.ts            # Hook para perfil del doctor
```

### üìÇ `src/services/`
```
services/
‚îú‚îÄ‚îÄ api.ts                         # Cliente HTTP principal (Axios configurado)
‚îú‚îÄ‚îÄ auth.ts                        # Servicios de autenticaci√≥n
‚îú‚îÄ‚îÄ appointments.ts                # Servicios de citas m√©dicas
‚îú‚îÄ‚îÄ consultations.ts               # Servicios de consultas m√©dicas
‚îú‚îÄ‚îÄ doctors.ts                     # Servicios de doctores
‚îú‚îÄ‚îÄ cities.ts                      # Servicios de ciudades
‚îú‚îÄ‚îÄ passwordReset.ts               # Servicios de recuperaci√≥n de contrase√±a
‚îî‚îÄ‚îÄ userProfile.ts                 # Servicios de perfil de usuario
```

### üìÇ `src/contexts/`
```
contexts/
‚îú‚îÄ‚îÄ AccessibilityContext.tsx       # Contexto de accesibilidad global
‚îî‚îÄ‚îÄ ToastContext.tsx               # Contexto de notificaciones
```

### üìÇ `src/types/`
```
types/
‚îú‚îÄ‚îÄ api.ts                         # Tipos de API y DTOs
‚îî‚îÄ‚îÄ clinical.ts                    # Tipos para datos cl√≠nicos
```

### üìÇ `src/utils/`
```
utils/
‚îî‚îÄ‚îÄ cn.ts                          # Utilidad para combinar clases CSS
```

### üìÇ `tests/`
```
tests/
‚îú‚îÄ‚îÄ setup.ts                       # Configuraci√≥n global de tests
‚îú‚îÄ‚îÄ helpers/
‚îÇ   ‚îî‚îÄ‚îÄ testUtils.tsx              # Utilidades reutilizables para tests
‚îú‚îÄ‚îÄ mocks/
‚îÇ   ‚îî‚îÄ‚îÄ mockData.ts                # Datos mock para testing
‚îî‚îÄ‚îÄ unit/
    ‚îú‚îÄ‚îÄ components/ui/
    ‚îÇ   ‚îú‚îÄ‚îÄ Button.test.tsx        # 37 tests
    ‚îÇ   ‚îú‚îÄ‚îÄ Input.test.tsx         # 48 tests
    ‚îÇ   ‚îî‚îÄ‚îÄ Card.test.tsx          # 28 tests
    ‚îú‚îÄ‚îÄ hooks/
    ‚îÇ   ‚îî‚îÄ‚îÄ useAuth.test.tsx       # 6 tests
    ‚îî‚îÄ‚îÄ utils/
        ‚îî‚îÄ‚îÄ cn.test.ts             # 31 tests
```

## üöÄ Instalaci√≥n y Configuraci√≥n

### üìã Prerrequisitos

- **Node.js** >= 18.0.0
- **npm** >= 8.0.0 o **yarn** >= 1.22.0
- **Git** para control de versiones

### üîß Instalaci√≥n

1. **Clonar el repositorio**
   ```bash
   git clone https://github.com/JuanNorena/VitalCare.git
   cd VitalCare/VitalCare_front
   ```

2. **Instalar dependencias**
   ```bash
   npm install
   # o
   yarn install
   ```

3. **Configurar variables de entorno**
   ```bash
   cp .env.development .env.local
   ```

4. **Editar variables de entorno** (`.env.local`)
   ```bash
   VITE_API_BASE_URL=https://vitalcare-back.onrender.com
   VITE_ENVIRONMENT=development
   ```

## üèÉ‚Äç‚ôÇÔ∏è Ejecuci√≥n del Proyecto

### üöÄ Modo Desarrollo

```bash
npm run dev
# o
yarn dev
```

La aplicaci√≥n estar√° disponible en: `http://localhost:5173`

### üèóÔ∏è Build de Producci√≥n

```bash
npm run build
# o
yarn build
```

### üëÄ Vista Previa del Build

```bash
npm run preview
# o
yarn preview
```

## üì± Funcionalidades

### üë§ Sistema de Autenticaci√≥n

#### **Inicio de Sesi√≥n** üîê
- **Autenticaci√≥n JWT**: Tokens seguros con refresh autom√°tico
- **Validaci√≥n en Tiempo Real**: Feedback inmediato de credenciales
- **M√∫ltiples Roles**: Pacientes, Doctores y Administradores
- **Sesi√≥n Persistente**: LocalStorage para mantener sesi√≥n activa
- **Redirecci√≥n Inteligente**: Redirige seg√∫n el rol del usuario

```typescript
// Ejemplo de flujo de login
await login({ 
  email: 'user@example.com', 
  password: 'securePassword123' 
});
// ‚Üí Redirige a /dashboard autom√°ticamente
```

#### **Registro de Usuarios** üìù
- **Formulario Multi-paso**: Registro organizado por secciones
- **Validaci√≥n Robusta**: Contrase√±as seguras, emails √∫nicos
- **Aceptaci√≥n de T√©rminos**: Modal de t√©rminos y condiciones
- **Perfil Completo**: Datos personales, direcci√≥n y contacto
- **Confirmaci√≥n Autom√°tica**: Login autom√°tico despu√©s del registro

#### **Recuperaci√≥n de Contrase√±a** üîë
- **Env√≠o de C√≥digo**: C√≥digo de 6 d√≠gitos enviado por email
- **Verificaci√≥n de C√≥digo**: Validaci√≥n en tiempo real
- **Restablecimiento Seguro**: Nueva contrase√±a con validaci√≥n
- **Flujo Completo**: 3 pasos (solicitud ‚Üí verificaci√≥n ‚Üí cambio)
- **Prevenci√≥n de Duplicados**: Sistema anti-spam de solicitudes

```typescript
// Flujo de recuperaci√≥n
1. ForgotPasswordPage ‚Üí Enviar email
2. VerifyResetCodePage ‚Üí Verificar c√≥digo de 6 d√≠gitos
3. ResetPasswordPage ‚Üí Establecer nueva contrase√±a
```

#### **Perfil de Usuario** üë§
- **Edici√≥n de Datos**: Actualizaci√≥n de informaci√≥n personal
- **Cambio de Contrase√±a**: Cambio seguro con contrase√±a actual
- **Visualizaci√≥n de Rol**: Muestra rol y permisos del usuario
- **Datos de Contacto**: Email, tel√©fono y direcci√≥n actualizables

#### **Cierre de Sesi√≥n** üö™
- **Logout Seguro**: Limpieza completa de tokens
- **Limpieza de Estado**: Restablece todos los contextos
- **Redirecci√≥n Autom√°tica**: Vuelve a la p√°gina de login

---

### üìÖ Gesti√≥n de Citas M√©dicas

#### **Ver Citas** üìã
- **Lista Completa**: Todas las citas del usuario actual
- **Filtros Avanzados**:
  - Por estado (Programada, Completada, Cancelada)
  - Por fecha (Pr√≥ximas, Pasadas, Hoy)
  - Por doctor (para pacientes)
  - Por paciente (para doctores)
- **Vista Adaptativa**: Diferente seg√∫n el rol
  - **Pacientes**: Ven sus propias citas
  - **Doctores**: Ven citas de sus pacientes
  - **Admin**: Ven todas las citas del sistema
- **Informaci√≥n Detallada**:
  - Fecha y hora de la cita
  - Doctor asignado / Paciente (seg√∫n rol)
  - Motivo de consulta
  - Estado actual
  - Consultorio y especialidad

```typescript
// Vista de cita para paciente
{
  id: "apt-123",
  date: "2025-10-25",
  time: "10:00",
  doctor: "Dr. Juan P√©rez",
  specialty: "Medicina General",
  reason: "Consulta de control",
  status: "SCHEDULED",
  office: "Consultorio 3"
}
```

#### **Crear Cita** ‚ûï
- **Formulario Intuitivo**: Campos organizados y claros
- **Selecci√≥n de Doctor**: Lista de doctores disponibles por especialidad
- **Calendario Inteligente**:
  - Bloquea fechas pasadas
  - Muestra disponibilidad en tiempo real
  - Sugiere pr√≥ximas fechas disponibles
- **Validaciones**:
  - Fecha no puede ser en el pasado
  - Doctor debe estar disponible
  - Horario dentro del horario de atenci√≥n
  - No permitir citas duplicadas
- **Confirmaci√≥n Visual**: Toast de √©xito con detalles

```typescript
// Datos requeridos para crear cita
{
  reason: string;           // Motivo de consulta
  doctorId: string;         // ID del doctor seleccionado
  date: string;             // Fecha en formato ISO
  time: string;             // Hora en formato HH:mm
  patientId?: string;       // Auto-detectado para pacientes
}
```

#### **Editar Cita** ‚úèÔ∏è
- **Modificaci√≥n Flexible**: Cambiar fecha, hora o doctor
- **Validaci√≥n de Estado**: Solo citas SCHEDULED son editables
- **Confirmaci√≥n de Cambios**: Modal de confirmaci√≥n antes de guardar
- **Notificaci√≥n Autom√°tica**: Alerta al doctor del cambio

#### **Cancelar Cita** ‚ùå
- **Modal de Confirmaci√≥n**: Previene cancelaciones accidentales
- **Motivo Opcional**: Campo para especificar raz√≥n de cancelaci√≥n
- **Estado Actualizado**: Cambia autom√°ticamente a CANCELLED
- **Notificaci√≥n**: Alerta al doctor de la cancelaci√≥n
- **Historial**: La cita permanece en el sistema con estado cancelado

```typescript
// Modal de cancelaci√≥n
<CancelAppointmentModal
  appointmentId="apt-123"
  onConfirm={handleCancel}
  onClose={handleClose}
/>
```

#### **Confirmar Asistencia** ‚úÖ
- **Marcado de Completada**: Doctor marca cuando el paciente asiste
- **Registro de Consulta**: Abre formulario de consulta m√©dica
- **Estado COMPLETED**: Actualiza autom√°ticamente
- **Disponibilidad**: Solo para doctores en sus citas

---

### ü©∫ M√≥dulo de Consultas M√©dicas (Doctores)

#### **P√°gina de Consulta** üè•
- **Formularios Cl√≠nicos Completos**:
  
  **1. Signos Vitales** üíì
  ```typescript
  {
    temperature: number;      // Temperatura corporal (¬∞C)
    bloodPressure: string;   // Presi√≥n arterial (120/80)
    heartRate: number;       // Frecuencia card√≠aca (bpm)
    respiratoryRate: number; // Frecuencia respiratoria
    weight: number;          // Peso (kg)
    height: number;          // Altura (cm)
    oxygenSaturation: number; // Saturaci√≥n O2 (%)
  }
  ```

  **2. S√≠ntomas** ü§í
  ```typescript
  {
    symptoms: string[];          // Lista de s√≠ntomas
    duration: string;            // Duraci√≥n de s√≠ntomas
    severity: 'LEVE' | 'MODERADO' | 'SEVERO';
    description: string;         // Descripci√≥n detallada
  }
  ```

  **3. Diagn√≥stico** üî¨
  ```typescript
  {
    diagnosis: string;           // Diagn√≥stico principal
    differentialDiagnosis: string[]; // Diagn√≥sticos diferenciales
    notes: string;               // Notas adicionales del m√©dico
  }
  ```

  **4. Tratamiento** üíä
  ```typescript
  {
    medications: Array<{
      name: string;              // Nombre del medicamento
      dosage: string;            // Dosis (ej: "500mg")
      frequency: string;         // Frecuencia (ej: "cada 8 horas")
      duration: string;          // Duraci√≥n (ej: "7 d√≠as")
      instructions: string;      // Instrucciones especiales
    }>;
    recommendations: string;     // Recomendaciones generales
    followUpDate?: string;       // Fecha de seguimiento
  }
  ```

- **Guardado Autom√°tico**: Guarda borradores cada cierto tiempo
- **Historial M√©dico**: Acceso a consultas anteriores del paciente
- **Generaci√≥n de Receta**: Crea receta m√©dica autom√°ticamente
- **Orden de Ex√°menes**: Puede solicitar estudios complementarios

#### **Gesti√≥n de Citas del Doctor** üë®‚Äç‚öïÔ∏è
- **Vista Personalizada**: Solo citas del doctor logueado
- **Agenda Diaria**: Vista de calendario con citas del d√≠a
- **Filtros Espec√≠ficos**:
  - Por fecha
  - Por estado
  - Por paciente
- **Acciones R√°pidas**:
  - Iniciar consulta
  - Ver historial del paciente
  - Reprogramar cita
  - Marcar como completada

---

### üéõÔ∏è Panel de Control (Dashboard)

#### **Dashboard Personalizado por Rol** üìä

**Dashboard de Paciente:**
```typescript
{
  proximasCitas: Appointment[];        // Pr√≥ximas 3 citas
  citasRecientes: Appointment[];       // √öltimas 5 citas
  estadisticas: {
    totalCitas: number;
    citasCompletadas: number;
    citasPendientes: number;
    citasCanceladas: number;
  };
  doctoresFrecuentes: Doctor[];        // Doctores m√°s consultados
  recordatorios: Reminder[];           // Recordatorios de citas
}
```

**Dashboard de Doctor:**
```typescript
{
  citasDelDia: Appointment[];          // Citas del d√≠a actual
  proximasCitas: Appointment[];        // Pr√≥ximas citas
  estadisticas: {
    totalPacientes: number;
    citasDelMes: number;
    consultasRealizadas: number;
    pacientesNuevos: number;
  };
  pacientesRecientes: Patient[];       // √öltimos pacientes atendidos
  tareasPendientes: Task[];            // Consultas por completar
}
```

**Dashboard de Admin:**
```typescript
{
  resumenGeneral: {
    totalUsuarios: number;
    totalDoctores: number;
    totalPacientes: number;
    citasDelDia: number;
  };
  estadisticas: {
    citasPorEstado: Record<AppointmentStatus, number>;
    ocupacionDoctores: Array<{
      doctor: string;
      ocupacion: number; // Porcentaje
    }>;
  };
  actividadReciente: Activity[];       // √öltimas actividades del sistema
}
```

#### **Estad√≠sticas en Tiempo Real** üìà
- **Gr√°ficos Interactivos**: Visualizaci√≥n de m√©tricas
- **Tendencias**: An√°lisis de patrones de citas
- **Comparativas**: Mes actual vs. mes anterior
- **Exportaci√≥n**: Descarga de reportes en PDF/Excel

#### **Navegaci√≥n R√°pida** üöÄ
- **Accesos Directos**: Botones para acciones frecuentes
- **B√∫squeda Global**: Buscar citas, pacientes o doctores
- **Notificaciones**: Centro de notificaciones integrado

---

### ‚ôø Sistema de Accesibilidad

#### **Men√∫ de Accesibilidad** ‚öôÔ∏è
- **Tama√±o de Fuente**: 3 niveles (Normal, Grande, Extra Grande)
- **Alto Contraste**: Modo de alto contraste para mejor visibilidad
- **Navegaci√≥n por Teclado**: Soporte completo de shortcuts
- **Lector de Pantalla**: Compatible con NVDA, JAWS, VoiceOver
- **Persistencia**: Preferencias guardadas en localStorage

```typescript
// Opciones de accesibilidad
{
  fontSize: 'normal' | 'large' | 'extra-large';
  highContrast: boolean;
  reduceMotion: boolean;
  screenReaderMode: boolean;
}
```

#### **Caracter√≠sticas WCAG 2.1** ‚úÖ
- **AA Compliance**: Cumple con nivel AA
- **Contraste**: Ratios de contraste adecuados (4.5:1 m√≠nimo)
- **Etiquetas ARIA**: Todos los elementos interactivos etiquetados
- **Focus Visible**: Indicadores de foco claros
- **Error Messages**: Mensajes de error descriptivos
- **Form Labels**: Todos los inputs con labels asociados

---

### üîî Sistema de Notificaciones

#### **Toast Notifications** üì¨
- **Tipos de Notificaciones**:
  - ‚úÖ Success (verde)
  - ‚ÑπÔ∏è Info (azul)
  - ‚ö†Ô∏è Warning (amarillo)
  - ‚ùå Error (rojo)
- **Duraci√≥n Configurable**: Auto-cierre despu√©s de X segundos
- **Acciones**: Botones de acci√≥n dentro del toast
- **Posici√≥n**: Top-right por defecto
- **Stack**: M√∫ltiples notificaciones apiladas
- **Animaciones**: Transiciones suaves de entrada/salida

```typescript
// Uso del sistema de toasts
showToast({
  type: 'success',
  title: 'Cita creada',
  message: 'Tu cita ha sido agendada exitosamente',
  duration: 5000,
  action: {
    label: 'Ver cita',
    onClick: () => navigate('/appointments')
  }
});
```

#### **Notificaciones en Tiempo Real** üî¥
- **WebSocket**: Conexi√≥n persistente con el servidor (pr√≥ximamente)
- **Actualizaciones Autom√°ticas**: React Query revalida datos
- **Badges**: Contador de notificaciones no le√≠das
- **Centro de Notificaciones**: Historial de todas las notificaciones

---

### üåô Tema Claro/Oscuro

- **Toggle Manual**: Bot√≥n para cambiar tema
- **Persistencia**: Preferencia guardada en localStorage
- **Transiciones Suaves**: Animaci√≥n al cambiar de tema
- **Variables CSS**: Sistema de variables para f√°cil personalizaci√≥n

```css
/* Ejemplo de variables de tema */
[data-theme="light"] {
  --vc-bg: #ffffff;
  --vc-text: #1f2937;
  --vc-primary: #3b82f6;
}

[data-theme="dark"] {
  --vc-bg: #0f172a;
  --vc-text: #f1f5f9;
  --vc-primary: #60a5fa;
}
```

## üé® Sistema de Dise√±o

### üé® Paleta de Colores

```css
/* Tema Claro (por defecto) */
--vc-bg: #ffffff;           /* Fondo principal */
--vc-text: #1f2937;         /* Texto principal */
--vc-primary: #3b82f6;      /* Azul primario */
--vc-secondary: #64748b;    /* Gris secundario */
--vc-success: #10b981;      /* Verde √©xito */
--vc-warning: #f59e0b;      /* Amarillo advertencia */
--vc-error: #ef4444;        /* Rojo error */

/* Tema Oscuro */
--vc-bg: #0f172a;           /* Fondo oscuro */
--vc-text: #f1f5f9;         /* Texto claro */
--vc-card-bg: #1e293b;      /* Fondo de tarjetas */
```

### üìê Sistema de Espaciado

```css
/* Escala de espaciado (rem) */
--vc-space-1: 0.25rem;   /* 4px */
--vc-space-2: 0.5rem;    /* 8px */
--vc-space-3: 0.75rem;   /* 12px */
--vc-space-4: 1rem;      /* 16px */
--vc-space-6: 1.5rem;    /* 24px */
--vc-space-8: 2rem;      /* 32px */
--vc-space-12: 3rem;     /* 48px */
--vc-space-16: 4rem;     /* 64px */
```

### üî§ Tipograf√≠a

```css
/* Fuentes principales */
--vc-font-family: 'Inter', system-ui, sans-serif;
--vc-font-mono: 'JetBrains Mono', monospace;

/* Escala tipogr√°fica */
--vc-font-xs: 0.75rem;    /* 12px */
--vc-font-sm: 0.875rem;   /* 14px */
--vc-font-base: 1rem;     /* 16px */
--vc-font-lg: 1.125rem;   /* 18px */
--vc-font-xl: 1.25rem;    /* 20px */
--vc-font-2xl: 1.5rem;    /* 24px */
--vc-font-3xl: 1.875rem;  /* 30px */
```

## üîß Scripts Disponibles

```json
{
  "scripts": {
    "dev": "vite --mode development",
    "build": "tsc && vite build --mode production",
    "build:dev": "tsc && vite build --mode development",
    "preview": "vite preview",
    "preview:dev": "vite preview --mode development",
    "test": "vitest",
    "test:ui": "vitest --ui",
    "test:run": "vitest run",
    "test:coverage": "vitest run --coverage",
    "test:watch": "vitest watch"
  }
}
```

### üìù Descripci√≥n Detallada de Scripts

#### **Desarrollo** üöÄ

**`npm run dev`**
```bash
# Inicia el servidor de desarrollo con hot reload
# - Puerto: 5173 (por defecto)
# - Modo: development
# - Hot Module Replacement (HMR) habilitado
# - Source maps completos para debugging
# - API_BASE_URL: https://vitalcare-back.onrender.com
```

Caracter√≠sticas en modo desarrollo:
- ‚ö° Recarga instant√°nea al guardar cambios
- üîç Source maps para debugging en navegador
- üìä Panel de React DevTools habilitado
- üêõ Mensajes de error detallados
- üé® CSS Hot Reload sin perder el estado

#### **Build de Producci√≥n** üì¶

**`npm run build`**
```bash
# Compila TypeScript + Build optimizado de producci√≥n
# 1. tsc: Verifica tipos de TypeScript
# 2. vite build: Genera bundle optimizado en /dist
```

Optimizaciones autom√°ticas:
- üóúÔ∏è **Minificaci√≥n**: JavaScript y CSS comprimidos
- üì¶ **Tree Shaking**: Elimina c√≥digo no utilizado
- üîÑ **Code Splitting**: Divisi√≥n autom√°tica de c√≥digo
- üéØ **Lazy Loading**: Carga componentes bajo demanda
- üñºÔ∏è **Asset Optimization**: Optimizaci√≥n de im√°genes y fuentes
- üìä **Bundle Analysis**: An√°lisis de tama√±o de paquetes

Resultado:
```
dist/
‚îú‚îÄ‚îÄ assets/
‚îÇ   ‚îú‚îÄ‚îÄ index-[hash].js      # JavaScript principal minificado
‚îÇ   ‚îú‚îÄ‚îÄ index-[hash].css     # Estilos globales minificados
‚îÇ   ‚îî‚îÄ‚îÄ [component]-[hash].js # Chunks de c√≥digo separados
‚îú‚îÄ‚îÄ index.html               # HTML principal con assets injectados
‚îî‚îÄ‚îÄ vite.svg                 # Assets est√°ticos
```

**`npm run build:dev`**
```bash
# Build en modo desarrollo (√∫til para debugging)
# - Source maps incluidos
# - C√≥digo no minificado
# - Warnings y logs habilitados
```

#### **Vista Previa** üëÄ

**`npm run preview`**
```bash
# Sirve el build de producci√≥n localmente
# - Puerto: 4173 (por defecto)
# - Modo: production
# - √ötil para probar el build antes de desplegar
```

**`npm run preview:dev`**
```bash
# Sirve el build de desarrollo localmente
# Similar a preview pero con build:dev
```

#### **Testing** üß™

**`npm test`**
```bash
# Ejecuta Vitest en modo watch
# - Reejecutar√° tests al detectar cambios
# - Modo interactivo en terminal
# - √ötil para desarrollo de tests
```

**`npm run test:ui`**
```bash
# Abre interfaz web de Vitest
# - Dashboard visual interactivo
# - Filtrado y b√∫squeda de tests
# - An√°lisis de cobertura visual
# - Debugging con breakpoints
# URL: http://localhost:51204/__vitest__/
```

**`npm run test:run`**
```bash
# Ejecuta todos los tests una sola vez
# - No modo watch
# - Ideal para CI/CD
# - Salida con c√≥digo de error si falla
```

**`npm run test:coverage`**
```bash
# Ejecuta tests + genera reporte de cobertura
# - Genera reporte HTML en /coverage
# - Muestra porcentajes en terminal
# - Identifica c√≥digo no cubierto
# - Genera archivos lcov para integraciones
```

Reportes generados:
```
coverage/
‚îú‚îÄ‚îÄ index.html               # Reporte visual navegable
‚îú‚îÄ‚îÄ lcov.info               # Formato LCOV para CI/CD
‚îú‚îÄ‚îÄ coverage-final.json     # JSON con m√©tricas completas
‚îî‚îÄ‚îÄ lcov-report/            # Reportes HTML detallados por archivo
```

**`npm run test:watch`**
```bash
# Tests en modo watch con cobertura
# - Reejecutar√° tests al detectar cambios
# - Actualiza cobertura en tiempo real
```

---

### üéØ Flujos de Trabajo Comunes

#### **Desarrollo Local**
```bash
# 1. Instalar dependencias
npm install

# 2. Iniciar servidor de desarrollo
npm run dev

# 3. En otra terminal, ejecutar tests en watch mode
npm test
```

#### **Preparar para Producci√≥n**
```bash
# 1. Ejecutar todos los tests
npm run test:run

# 2. Verificar cobertura
npm run test:coverage

# 3. Build de producci√≥n
npm run build

# 4. Probar build localmente
npm run preview
```

#### **CI/CD Pipeline**
```bash
# .github/workflows/ci.yml
- npm ci                    # Instalar dependencias (lock exacto)
- npm run test:run          # Ejecutar tests
- npm run test:coverage     # Generar cobertura
- npm run build             # Build de producci√≥n
```

---

### ‚öôÔ∏è Configuraci√≥n de Scripts

#### **Variables de Entorno por Script**

Los scripts utilizan diferentes archivos `.env`:

```bash
# npm run dev ‚Üí .env.development
VITE_API_BASE_URL=https://vitalcare-back.onrender.com
VITE_ENVIRONMENT=development

# npm run build ‚Üí .env.production
VITE_API_BASE_URL=https://vitalcare-back.onrender.com
VITE_ENVIRONMENT=production
```

#### **Opciones de Configuraci√≥n de Vite**

```typescript
// vite.config.ts
export default defineConfig({
  server: {
    port: 5173,              // Puerto de desarrollo
    open: true,              // Abrir navegador autom√°ticamente
    cors: true,              // Habilitar CORS
  },
  build: {
    outDir: 'dist',          // Directorio de salida
    sourcemap: false,        // Source maps en producci√≥n
    minify: 'esbuild',       // Minificador (esbuild es el m√°s r√°pido)
    chunkSizeWarningLimit: 1000, // L√≠mite de advertencia de chunk
  },
  preview: {
    port: 4173,              // Puerto de preview
  }
});
```

---

### üêõ Debugging

#### **Debugging en VS Code**

```json
// .vscode/launch.json
{
  "configurations": [
    {
      "type": "chrome",
      "request": "launch",
      "name": "Debug Vite App",
      "url": "http://localhost:5173",
      "webRoot": "${workspaceFolder}/src"
    },
    {
      "type": "node",
      "request": "launch",
      "name": "Debug Vitest Tests",
      "runtimeExecutable": "npm",
      "runtimeArgs": ["run", "test"],
      "console": "integratedTerminal"
    }
  ]
}
```

#### **An√°lisis de Bundle**

```bash
# Instalar plugin de an√°lisis
npm install --save-dev rollup-plugin-visualizer

# Agregar a vite.config.ts
import { visualizer } from 'rollup-plugin-visualizer';

plugins: [
  react(),
  visualizer({ open: true })
]

# Ejecutar build y ver an√°lisis
npm run build
# Abrir√° stats.html con visualizaci√≥n del bundle
```

## üåê Variables de Entorno

### üìÑ `.env.development`

```bash
# Configuraci√≥n para desarrollo local
VITE_API_BASE_URL=https://vitalcare-back.onrender.com
VITE_ENVIRONMENT=development
```

### üìÑ `.env.production`

```bash
# Configuraci√≥n para producci√≥n
VITE_API_BASE_URL=https://vitalcare-back.onrender.com
VITE_ENVIRONMENT=production
```

### üîç Variables Disponibles

| Variable | Descripci√≥n | Valor por Defecto |
|----------|-------------|-------------------|
| `VITE_API_BASE_URL` | URL base de la API backend | `https://vitalcare-back.onrender.com` |
| `VITE_ENVIRONMENT` | Entorno de ejecuci√≥n | `development` |

## üì¶ Build y Despliegue

### üèóÔ∏è Proceso de Build

1. **Verificar dependencias**
   ```bash
   npm ci
   ```

2. **Ejecutar tests** (si existen)
   ```bash
   npm test
   ```

3. **Build de producci√≥n**
   ```bash
   npm run build
   ```

4. **Verificar build**
   ```bash
   npm run preview
   ```

### üöÄ Despliegue

La aplicaci√≥n est√° configurada para desplegarse en:

- **Render**: Despliegue autom√°tico con configuraci√≥n optimizada
- **GitHub Pages**: Con GitHub Actions
- **Servidor tradicional**: Copiando carpeta `dist/`

#### üåê Despliegue en Render

Para desplegar en Render:

1. **Conectar repositorio**
   - Ve a [Render Dashboard](https://dashboard.render.com)
   - Conecta tu repositorio de GitHub

2. **Configurar servicio web**
   ```yaml
   # render.yaml (opcional)
   services:
     - type: web
       name: vitalcare-frontend
       env: static
       buildCommand: npm run build
       staticPublishPath: dist
   ```

3. **Variables de entorno**
   ```
   VITE_API_BASE_URL=https://vitalcare-back.onrender.com
   VITE_ENVIRONMENT=production
   ```

4. **Configuraci√≥n de build**
   - **Build Command**: `npm run build`
   - **Publish Directory**: `dist`
   - **Node Version**: `18.0.0` o superior

### üìä Optimizaciones de Build

- **Code Splitting**: Divisi√≥n autom√°tica de c√≥digo
- **Tree Shaking**: Eliminaci√≥n de c√≥digo no utilizado
- **Minificaci√≥n**: Compresi√≥n de JavaScript y CSS
- **Asset Optimization**: Optimizaci√≥n de im√°genes y fuentes
- **Caching**: Headers de cache apropiados

## üß™ Testing

###  Estado Actual de Cobertura
 
**Tests Implementados**: **150 tests pasando** ‚úÖ

| Componente | Tests | Estado | Cobertura |
|------------|-------|--------|-----------|
| `Button.tsx` | 37 | ‚úÖ Pasando | 100% |
| `Input.tsx` | 48 | ‚úÖ Pasando | 100% |
| `Card.tsx` | 28 | ‚úÖ Pasando | 100% |
| `useAuth.ts` | 6 | ‚úÖ Pasando | 100% |
| `cn.ts` | 31 | ‚úÖ Pasando | 100% |

### üéØ Estrategia de Testing

El proyecto implementa una estrategia de testing exhaustiva con tres niveles:

#### **1. Tests Unitarios (Unit Tests)** ‚úÖ Implementado

Prueban componentes y funciones de forma aislada:

```typescript
// Ejemplo real del proyecto
describe('Button Component', () => {
  it('debe renderizar correctamente', () => {
    renderWithProviders(<Button>Click me</Button>);
    expect(screen.getByRole('button')).toBeInTheDocument();
  });

  it('debe manejar eventos onClick', async () => {
    const handleClick = vi.fn();
    renderWithProviders(<Button onClick={handleClick}>Click me</Button>);
    
    await userEvent.click(screen.getByRole('button'));
    expect(handleClick).toHaveBeenCalledTimes(1);
  });

  it('debe aplicar variantes correctamente', () => {
    renderWithProviders(<Button variant="destructive">Delete</Button>);
    expect(screen.getByRole('button')).toHaveClass('bg-red-600');
  });
});
```

#### **2. Tests de Integraci√≥n** üîÑ En desarrollo

Prueban la interacci√≥n entre m√∫ltiples componentes:

```typescript
describe('CreateAppointmentFlow', () => {
  it('debe crear una cita exitosamente', async () => {
    // Renderizar formulario
    renderWithProviders(<CreateAppointmentPage />);
    
    // Llenar campos
    await userEvent.type(screen.getByLabelText(/motivo/i), 'Consulta general');
    await userEvent.click(screen.getByLabelText(/fecha/i));
    await userEvent.selectOptions(screen.getByLabelText(/doctor/i), 'doctor-1');
    
    // Enviar formulario
    await userEvent.click(screen.getByRole('button', { name: /crear cita/i }));
    
    // Verificar resultado
    expect(await screen.findByText(/cita creada exitosamente/i)).toBeInTheDocument();
  });
});
```

#### **3. Tests E2E** ‚è≥ Planificado

Tests de extremo a extremo con Playwright.

### üõ†Ô∏è Herramientas de Testing

#### **Framework Principal**
- **[Vitest 3.2.4](https://vitest.dev/)** - Framework de testing ultra-r√°pido para Vite
  - ‚ö° Ejecuci√≥n paralela de tests
  - üî• Hot Module Replacement en modo watch
  - üìä Cobertura de c√≥digo con v8
  - üé® UI interactiva para debugging

#### **Utilidades de Testing**
- **[@testing-library/react 16.3.0](https://testing-library.com/docs/react-testing-library/intro/)** - Testing de componentes React
  - Testing centrado en el usuario
  - Queries accesibles (getByRole, getByLabelText)
  - Async utilities (waitFor, findBy)
  
- **[@testing-library/user-event 14.6.1](https://testing-library.com/docs/user-event/intro/)** - Simulaci√≥n realista de eventos
  - Simula interacciones reales del usuario
  - Eventos compuestos (click, type, hover)
  - Timing realista

- **[@testing-library/jest-dom 6.9.1](https://github.com/testing-library/jest-dom)** - Matchers personalizados
  - `toBeInTheDocument()`
  - `toHaveClass()`, `toHaveStyle()`
  - `toBeDisabled()`, `toBeVisible()`

- **[jsdom 27.0.1](https://github.com/jsdom/jsdom)** - Simulaci√≥n del DOM en Node.js

### üìÅ Estructura de Tests

```
tests/
‚îú‚îÄ‚îÄ setup.ts                      # Configuraci√≥n global de tests
‚îú‚îÄ‚îÄ helpers/
‚îÇ   ‚îî‚îÄ‚îÄ testUtils.tsx            # Utilidades reutilizables
‚îú‚îÄ‚îÄ mocks/
‚îÇ   ‚îî‚îÄ‚îÄ mockData.ts              # Datos mock para tests
‚îî‚îÄ‚îÄ unit/
    ‚îú‚îÄ‚îÄ components/
    ‚îÇ   ‚îî‚îÄ‚îÄ ui/
    ‚îÇ       ‚îú‚îÄ‚îÄ Button.test.tsx   # 37 tests ‚úÖ
    ‚îÇ       ‚îú‚îÄ‚îÄ Input.test.tsx    # 48 tests ‚úÖ
    ‚îÇ       ‚îî‚îÄ‚îÄ Card.test.tsx     # 28 tests ‚úÖ
    ‚îú‚îÄ‚îÄ hooks/
    ‚îÇ   ‚îî‚îÄ‚îÄ useAuth.test.tsx      # 6 tests ‚úÖ
    ‚îú‚îÄ‚îÄ utils/
    ‚îÇ   ‚îî‚îÄ‚îÄ cn.test.ts            # 31 tests ‚úÖ
    ‚îî‚îÄ‚îÄ services/                 # ‚è≥ Pendiente
```

### üöÄ Comandos de Testing

```bash
# Ejecutar tests en modo watch (desarrollo)
npm test

# Ejecutar tests una vez
npm run test:run

# Ejecutar tests con UI interactiva
npm run test:ui

# Generar reporte de cobertura
npm run test:coverage

# Ejecutar tests en modo watch con cobertura
npm run test:watch
```

### üìä Configuraci√≥n de Cobertura

El proyecto est√° configurado con umbrales m√≠nimos de cobertura:

```typescript
// vitest.config.ts
coverage: {
  provider: 'v8',
  reporter: ['text', 'json', 'html', 'lcov'],
  thresholds: {
    lines: 70,      // M√≠nimo 70% de l√≠neas cubiertas
    functions: 70,  // M√≠nimo 70% de funciones cubiertas
    branches: 70,   // M√≠nimo 70% de ramas cubiertas
    statements: 70  // M√≠nimo 70% de statements cubiertos
  }
}
```

### üé® Utilidades de Testing Personalizadas

#### **renderWithProviders**

Wrapper personalizado que incluye todos los proveedores necesarios:

```typescript
import { renderWithProviders } from '../helpers/testUtils';

// Renderiza con QueryClient y Router autom√°ticamente
renderWithProviders(<MyComponent />);
```

#### **createTestQueryClient**

Crea un QueryClient optimizado para testing:

```typescript
const queryClient = createTestQueryClient();
// Sin retries, sin cache persistente, ideal para tests
```

#### **Mock Data Factories**

Funciones para generar datos de prueba consistentes:

```typescript
import { 
  mockPatientUser, 
  mockDoctorUser, 
  createMockAppointment 
} from '../../mocks/mockData';

// Usar mocks predefinidos
const user = mockPatientUser;

// O crear instancias personalizadas
const appointment = createMockAppointment({
  reason: 'Custom reason',
  status: 'SCHEDULED'
});
```

### üìù Ejemplos de Tests Reales

#### **Test de Componente UI**

```typescript
// tests/unit/components/ui/Button.test.tsx
describe('Button - Accesibilidad', () => {
  it('debe ser accesible por teclado', async () => {
    const handleClick = vi.fn();
    renderWithProviders(<Button onClick={handleClick}>Press me</Button>);
    
    const button = screen.getByRole('button');
    button.focus();
    
    await userEvent.keyboard('{Enter}');
    expect(handleClick).toHaveBeenCalled();
  });

  it('debe soportar aria-label', () => {
    renderWithProviders(
      <Button aria-label="Close dialog">X</Button>
    );
    expect(screen.getByLabelText('Close dialog')).toBeInTheDocument();
  });
});
```

#### **Test de Hook Personalizado**

```typescript
// tests/unit/hooks/useAuth.test.tsx
describe('useAuth Hook', () => {
  it('debe hacer login exitosamente', async () => {
    const { result } = renderHook(() => useAuth(), {
      wrapper: AllTheProviders
    });

    await act(async () => {
      await result.current.login({
        email: 'test@example.com',
        password: 'password123'
      });
    });

    expect(result.current.user).toBeDefined();
    expect(result.current.isAuthenticated).toBe(true);
  });
});
```

#### **Test de Utilidad**

```typescript
// tests/unit/utils/cn.test.ts
describe('cn Utility - Resoluci√≥n de Conflictos', () => {
  it('debe resolver conflictos de Tailwind', () => {
    const result = cn('px-2 py-2', 'px-4');
    // La √∫ltima clase px gana
    expect(result).toBe('py-2 px-4');
  });

  it('debe manejar clases condicionales', () => {
    const isActive = true;
    const result = cn('base', isActive && 'active');
    expect(result).toContain('active');
  });
});
```
### üêõ Debugging de Tests

#### **Modo Interactivo UI**

```bash
npm run test:ui
```

Abre una interfaz web interactiva para:
- ‚ú® Ejecutar tests selectivamente
- üîç Ver resultados en tiempo real
- üìä Analizar cobertura
- üêõ Debugging con breakpoints

#### **Debugging en VS Code**

```json
// .vscode/launch.json
{
  "type": "node",
  "request": "launch",
  "name": "Debug Vitest Tests",
  "runtimeExecutable": "npm",
  "runtimeArgs": ["run", "test"],
  "console": "integratedTerminal"
}
```

### üìö Recursos Adicionales

- **[Documentaci√≥n Vitest](https://vitest.dev/)** - Gu√≠a completa del framework
- **[Testing Library](https://testing-library.com/)** - Best practices de testing
- **[Test Coverage en CI/CD](https://vitest.dev/guide/coverage.html)** - Integraci√≥n con pipelines

## ü§ù Contribuci√≥n

### üìã Gu√≠as de Contribuci√≥n

1. **Fork** el proyecto
2. **Crear** una rama para tu feature (`git checkout -b feature/AmazingFeature`)
3. **Commit** tus cambios (`git commit -m 'Add some AmazingFeature'`)
4. **Push** a la rama (`git push origin feature/AmazingFeature`)
5. **Abrir** un Pull Request

### üìè Est√°ndares de C√≥digo

- **TypeScript**: Usar tipos expl√≠citos
- **ESLint**: Seguir reglas de linting
- **Prettier**: Formateo autom√°tico de c√≥digo
- **Conventional Commits**: Commits sem√°nticos

### üîç Code Review

- ‚úÖ **Funcionalidad**: ¬øFunciona como se espera?
- ‚úÖ **Performance**: ¬øEs eficiente?
- ‚úÖ **Accesibilidad**: ¬øCumple est√°ndares WCAG?
- ‚úÖ **Responsive**: ¬øFunciona en todos los dispositivos?
- ‚úÖ **Testing**: ¬øTiene cobertura adecuada?

## üìÑ Licencia

Este proyecto est√° bajo la Licencia MIT - ver el archivo [LICENSE](../LICENSE) para m√°s detalles.

## üë• Autores

- **Juan Norena** - *Desarrollador Principal* - [GitHub](https://github.com/JuanNorena)
- **Equipo VitalCare** - *Contribuidores* - [Ver contribuidores](../../graphs/contributors)

## üôè Agradecimientos

- **React Team** por el incre√≠ble framework  
- **Tailwind CSS** por el sistema de dise√±o utilitario
- **TanStack** por React Query
- **Comunidad Open Source** por las herramientas y bibliotecas

---

<div align="center">

**VitalCare** - Gestionando citas m√©dicas con excelencia üíô

[![GitHub stars](https://img.shields.io/github/stars/JuanNorena/VitalCare?style=social)](https://github.com/JuanNorena/VitalCare/stargazers)
[![GitHub forks](https://img.shields.io/github/forks/JuanNorena/VitalCare?style=social)](https://github.com/JuanNorena/VitalCare/network/members)

*Hecho con ‚ù§Ô∏è para mejorar la atenci√≥n m√©dica*

</div></content>
<parameter name="filePath">c:\Universidad\Octavo Semestre\Software_3\VitalCare_front\README.md

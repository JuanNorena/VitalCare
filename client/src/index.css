@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  /* Accessibility / theme variables (defaults - light theme) */
  --background: 0 0% 100%; /* hsl var used by tailwind config */
  --foreground: 222 15% 10%;
  --card: 0 0% 100%;
  --card-foreground: 222 15% 10%;
  --popover: 0 0% 100%;
  --popover-foreground: 222 15% 10%;
  --primary: 222 65% 52%;
  --primary-foreground: 0 0% 100%;
  --muted: 220 8% 98%;
  --muted-foreground: 215 10% 30%;
  --border: 215 15% 85%;
  --ring: 222 65% 52%;

  /* font scale used to compute root font-size */
  --vc-font-scale: 1;
}

.dark {
  /* dark theme overrides */
  --background: 210 30% 8%;
  --foreground: 210 20% 96%;
  --card: 210 30% 12%;
  --card-foreground: 210 20% 96%;
  --popover: 210 30% 12%;
  --popover-foreground: 210 20% 96%;
  --muted: 210 30% 10%;
  --muted-foreground: 210 20% 82%;
  --border: 210 30% 20%;
  --ring: 210 30% 64%;
}

/* Scale global font-size using the accessibility variable. The app must use rems for this to be effective. */
html {
  /* Limit the root font-size to a safe range so extreme scales don't break layout */
  font-size: clamp(12px, calc(16px * var(--vc-font-scale)), 20px);
}

@layer base {
  * {
    @apply border-border;
  }

  body {
  @apply font-sans antialiased bg-background text-foreground;
  /* Prevent accidental horizontal scroll caused by fixed-position widgets */
  overflow-x: hidden;
  }
}